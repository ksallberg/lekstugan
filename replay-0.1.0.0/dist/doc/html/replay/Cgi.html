<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cgi</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Cgi.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">replay-0.1.0.0: Implementation of a Replay monad</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Cgi</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Cgi">Cgi</a> a = <a href="Replay.html#t:Replay">Replay</a> <a href="Cgi.html#t:Question">Question</a> <a href="Cgi.html#t:Answer">Answer</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Type">Type</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Id">Id</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Question">Question</a> = [(<a href="Cgi.html#t:Id">Id</a>, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a>, <a href="Cgi.html#t:Type">Type</a>)]</li><li class="src short"><span class="keyword">type</span> <a href="#t:Answer">Answer</a> = <a href="Cgi.html#t:Question">Question</a></li><li class="src short"><a href="#v:pickStr">pickStr</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Cgi.html#t:Answer">Answer</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:pickInt">pickInt</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Cgi.html#t:Answer">Answer</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:ask">ask</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> r =&gt; q -&gt; <a href="Replay.html#t:Replay">Replay</a> q r r</li><li class="src short"><a href="#v:liftIO">liftIO</a> :: (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> a, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> a, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> r, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> r) =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Replay.html#t:Replay">Replay</a> q r a</li><li class="src short"><a href="#v:runCGI">runCGI</a> :: <a href="Cgi.html#t:Cgi">Cgi</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="doc"><p>Types
</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Cgi" class="def">Cgi</a> a = <a href="Replay.html#t:Replay">Replay</a> <a href="Cgi.html#t:Question">Question</a> <a href="Cgi.html#t:Answer">Answer</a> a</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Type" class="def">Type</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>We use Type to differeniate between
   the types a user can enter into a 
   textfield. We currently support <a href="int.html">int</a>
   and <a href="str.html">str</a> when <a href="type checking.html">type checking</a>
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Id" class="def">Id</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Question" class="def">Question</a> = [(<a href="Cgi.html#t:Id">Id</a>, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a>, <a href="Cgi.html#t:Type">Type</a>)]</p><div class="doc"><p>Question and Answer are the same type.
   The Id is unique for each question
   and is used later on to get the result.
   The answer itself is a String that might
   be able to be read as an Int if the Type
   is <a href="int.html">int</a>. Not if the Type is <a href="str.html">str</a>.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Answer" class="def">Answer</a> = <a href="Cgi.html#t:Question">Question</a></p></div><div class="doc"><p>Operations
</p></div><div class="top"><p class="src"><a name="v:pickStr" class="def">pickStr</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Cgi.html#t:Answer">Answer</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Pick the string (answer value) from an answer
</p></div></div><div class="top"><p class="src"><a name="v:pickInt" class="def">pickInt</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Cgi.html#t:Answer">Answer</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Pick the answer value and turn it to an int
   If the answer is &quot;&quot;, just return 0
</p></div></div><div class="top"><p class="src"><a name="v:ask" class="def">ask</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> r =&gt; q -&gt; <a href="Replay.html#t:Replay">Replay</a> q r r</p><div class="doc"><p>The ask fuction uses roughly the same process as liftIO.
</p><p>If a question has already been answered in the trace, then
   we just return a Right, causing the program to go forward.
</p><p>If the question hasn't been answered, we return a Left, 
   causing the program to interrupt with a question
</p></div></div><div class="top"><p class="src"><a name="v:liftIO" class="def">liftIO</a> :: (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> a, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> a, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Read.html#t:Read">Read</a> r, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Text-Show.html#t:Show">Show</a> r) =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Replay.html#t:Replay">Replay</a> q r a</p><div class="doc"><p>Lifting function to perform IO actions and store the result
   of them in our trace. 
</p><p>the first thing we do is checking the trace to see if an 
   action has already been performed
</p><p>If it has, then we just return it (running it through a 
      helper function, r2a, to convert it to the appropriate type
</p><p>If it hasn't, we pick (lift?) the IO action out from the 
      IO monad, perform it and send the result to the trace
</p></div></div><div class="doc"><p>Run function
</p></div><div class="top"><p class="src"><a name="v:runCGI" class="def">runCGI</a> :: <a href="Cgi.html#t:Cgi">Cgi</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Run function for the CGI monad
   The trace is stored in one single hidden tag
   in the web page. That means we have to parse it when
   receiving it back from the web server.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>